<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>My Project Team</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
			crossorigin="anonymous"
		/>
	</head>
	<body>
		<div class="container">
			<div class="row gx-10">
				<div class="col">
					<div class="p-3 border bg-danger">
						<h1 class="text-center fw-bold text-light">Project Team Profile</h1>
					</div>
				</div>
			</div>
			<div class="row p-4 m-2 cardholder"></div>
		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
		<script type="text/JavaScript">

			  const teamProfile = {
			  "Manager": {
			    "name": "we",
			    "id": "we",
			    "email": "wewr",
			    "role": "Manager",
			    "officeNumber": "aera"
			  }
			};


			const getULElem = (emp) => {
			        let ulList = $("<ul>").addClass("list-group");
			        ulList.append(
			                getListItem(emp.name, "name"),
			                getListItem(emp.id, "id"),
			                getListItem(emp.email, "email")
			        );
			        if (emp.role == "Manager") {
			                ulList.append(getListItem(emp.officeNumber, "Office Number"));
			        } else if (emp.role === "Engineer") {
			                ulList.append(getListItem(emp.github_username, "GitHub"));
			        } else if (emp.role === "Intern") {
			                ulList.append(getListItem(emp.school, "School"));
			        }
			        return ulList;
			};

			  const getListItem = (val, label) => {
			        if (label === "email") {
			                return $("<li>")
			                        .addClass("list-group-item bg-primary bg-opacity-25 p-2")
			                        .html(label +": <a href='mailTo:"+val+"'>"+val+"</a>");
			         }
			        else if (label === "GitHub") {
			                return $("<li>")
			                        .addClass("list-group-item bg-primary bg-opacity-25 p-2")
			                        .html(
			                                label +": <a href='https://github.com/"+val+"' target='_blank'>"+val+"</a>"                     );
			        }
			        else
			                return $("<li>")
			                        .addClass("list-group-item bg-primary bg-opacity-25 p-2")
			                        .html(label +" : "+val);
			}

			  const generateCard = (emp) => {
			                if (emp.role === "Manager") {
			                }
			                let div1 = $("<div>").addClass("col-sm-3 m-3");
			                let divCard = $("<div>").addClass("card");
			                divCard.attr("style", "width: 18rem");
			                let divCardHeader = $("<div>").addClass("card-header bg-primary text-light");
			                divCardHeader.html("    <h4> "+emp.name+"</h4>  <h5>Project"+ emp.role +"</h5>");
			                let divCardBody = $("<div>").addClass("card-body bg-secondary bg-opacity-10");

			                //divCardBody.append(getListItems(mgr));
			                divCardBody.append(getULElem(emp));
			                divCard.append(divCardHeader, divCardBody);
			                div1.append(divCard);
			                return div1;
			        };


			const generateTeamProfile = function () {
			                let cardholder = $(".cardholder");
			                const mgr = teamProfile.Manager;
			                const mgrCard = generateCard(mgr);
			                cardholder.append(mgrCard);
			                const engineers = teamProfile.engineers;
			    if(engineers){
			      engineers.forEach((eng) => {
			        const engCard = generateCard(eng);
			        cardholder.append(engCard);
			      });
			    }
			                const interns = teamProfile.interns;
			    if(interns){
			                interns.forEach((int) => {
			                        const intCard = generateCard(int);
			                        cardholder.append(intCard);
			                });
			  }
			                //console.log(mgrCard);
			        };
			        window.onload = generateTeamProfile;
		</script>
	</body>
</html>
